include         /etc/ldap/schema/core.schema
include         /etc/ldap/schema/cosine.schema
include         /etc/ldap/schema/nis.schema
include         /etc/ldap/schema/inetorgperson.schema

pidfile         /var/run/slapd/slapd.pid
argsfile        /var/run/slapd/slapd.args

loglevel        none

modulepath	    /usr/lib/ldap
moduleload	    back_hdb
moduleload      memberof

disallow        bind_anon
require         authc

sizelimit       500
tool-threads    1

access to dn.base="cn=Subschema"
    by * read

access to attrs=userPassword,shadowLastChange
    by anonymous auth
    by self write
    by * none

#######################################################################
database        hdb

directory       /var/lib/ldap

suffix          "dc=example,dc=com"
rootdn          "cn=admin,dc=example,dc=com"
rootpw          "examplecom"

overlay             memberof
memberof-dangling   error
memberof-refint     true

access to attrs=userPassword,shadowLastChange
    by anonymous auth
    by self write
    by * none

access to *
    by users read
    by * none
